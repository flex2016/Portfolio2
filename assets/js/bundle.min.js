
import{gsap}from"gsap";const lerp=(e,t,s)=>(1-s)*e+s*t,getMousePos=e=>{let t=0,s=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,s=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+body.scrollLeft+document.documentElement.scrollLeft,s=e.clientY+body.scrollTop+document.documentElement.scrollTop),{x:t,y:s}};let mouse={x:0,y:0};window.addEventListener("mousemove",e=>mouse=getMousePos(e));export default class Cursor{constructor(e){this.DOM={el:e},this.DOM.el.style.opacity=0,this.bounds=this.DOM.el.getBoundingClientRect(),this.renderedStyles={tx:{previous:0,current:0,amt:.18},ty:{previous:0,current:0,amt:.18}},this.onMouseMoveEv=()=>{this.renderedStyles.tx.previous=this.renderedStyles.tx.current=mouse.x-this.bounds.width/2,this.renderedStyles.ty.previous=this.renderedStyles.ty.previous=mouse.y-this.bounds.height/2,gsap.to(this.DOM.el,{duration:.9,ease:"Power3.easeOut",opacity:1}),requestAnimationFrame(()=>this.render()),window.removeEventListener("mousemove",this.onMouseMoveEv)},window.addEventListener("mousemove",this.onMouseMoveEv)}render(){this.renderedStyles.tx.current=mouse.x-this.bounds.width/2,this.renderedStyles.ty.current=mouse.y-this.bounds.height/2;for(const r in this.renderedStyles)this.renderedStyles[r].previous=(e=this.renderedStyles[r].previous,t=this.renderedStyles[r].current,(1-(s=this.renderedStyles[r].amt))*e+s*t);var e,t,s;this.DOM.el.style.transform=`translateX(${this.renderedStyles.tx.previous}px) translateY(${this.renderedStyles.ty.previous}px)`,requestAnimationFrame(()=>this.render())}}
new Cursor(document.querySelector(".cursor"));
